(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{1219:function(e,t,n){"use strict";var a=n(423);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(2)),l=(0,a(n(424)).default)(r.default.createElement(r.default.Fragment,null,r.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),r.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"Close");t.default=l},1220:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4101);Object.defineProperty(t,"queryStringToSearchState",{enumerable:!0,get:function(){return i(a).default}});var r=n(1545);Object.defineProperty(t,"searchStateToQueryString",{enumerable:!0,get:function(){return i(r).default}});var l=n(1777);Object.defineProperty(t,"resetSearchStateFilters",{enumerable:!0,get:function(){return i(l).default}});var o=n(4102);function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"resetSearchStateFiltersWithNewQuery",{enumerable:!0,get:function(){return i(o).default}})},1221:function(e,t,n){var a=n(73),r=n(583),l=n(1222),o=n(1225),i=n(76),u=n(1226),s=n(38);e.exports=function(e,t,n){var c=-1;t=a(t.length?t:[s],i(r));var f=l(e,function(e,n,r){return{criteria:a(t,function(t){return t(e)}),index:++c,value:e}});return o(f,function(e,t){return u(e,t,n)})}},1222:function(e,t,n){var a=n(1223),r=n(29);e.exports=function(e,t){var n=-1,l=r(e)?Array(e.length):[];return a(e,function(e,a,r){l[++n]=t(e,a,r)}),l}},1223:function(e,t,n){var a=n(786),r=n(1224)(a);e.exports=r},1224:function(e,t,n){var a=n(29);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!a(n))return e(n,r);for(var l=n.length,o=t?l:-1,i=Object(n);(t?o--:++o<l)&&!1!==r(i[o],o,i););return n}}},1225:function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},1226:function(e,t,n){var a=n(1227);e.exports=function(e,t,n){for(var r=-1,l=e.criteria,o=t.criteria,i=l.length,u=n.length;++r<i;){var s=a(l[r],o[r]);if(s)return r>=u?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}},1227:function(e,t,n){var a=n(30);e.exports=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,l=e==e,o=a(e),i=void 0!==t,u=null===t,s=t==t,c=a(t);if(!u&&!c&&!o&&e>t||o&&i&&s&&!u&&!c||r&&i&&s||!n&&s||!l)return 1;if(!r&&!o&&!c&&e<t||c&&n&&l&&!r&&!o||u&&n&&l||!i&&l||!s)return-1}return 0}},1279:function(e,t,n){"use strict";n.r(t);var a=n(405),r=n.n(a),l=n(404),o=n.n(l),i=n(416),u=n.n(i),s=n(2),c=n.n(s),f=n(16),d=n.n(f),p=n(3),h=n.n(p),m=n(403),g=n(651),v=n.n(g),y=n(720),b=n.n(y),_=n(654),O=n.n(_),S=n(443),C=n.n(S),E=n(461),P=n.n(E),w=n(1219),j=n.n(w),R=n(652),T=n.n(R),k={children:h.a.node.isRequired,classes:h.a.objectOf(h.a.string),title:h.a.string.isRequired,isOpen:h.a.bool,actionElement:h.a.node,onClose:h.a.func},M=function(e){var t=e.classes,n=e.title,a=e.isOpen,l=e.children,i=e.onClose,u=e.actionElement,s=o()(e,["classes","title","isOpen","children","onClose","actionElement"]);return c.a.createElement(v.a,r()({fullScreen:!0,open:a,onClose:i,TransitionComponent:T.a,TransitionProps:{direction:"up"}},s),c.a.createElement(b.a,{position:"static",className:t.appBar},c.a.createElement(O.a,null,c.a.createElement(P.a,{onClick:i,color:"inherit","aria-label":d()("openclassrooms.modal.cancel")},c.a.createElement(j.a,null)),c.a.createElement(C.a,{variant:"h6",color:"inherit",className:t.title},n),u)),c.a.createElement("div",{className:t.content},l))};M.propTypes=k,M.defaultProps={onClose:function(){},actionElement:null,isOpen:!1,classes:{}};var x=Object(m.withStyles)(function(e){var t=e.palette,n=e.mixins,a=e.spacing;return{content:{height:"100%",width:"100%",overflow:"auto",padding:a.unit,position:"absolute",top:0,"&::before, &::after":u()({content:'""',display:"block"},n.toolbar)},appBar:{background:t.background.paper,color:t.text.secondary,zIndex:1,position:"relative"},title:{marginLeft:2*a.unit,flexGrow:1}}})(M);n.d(t,"FullScreenDialog",function(){return x})},1776:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4099);Object.defineProperty(t,"NoSSR",{enumerable:!0,get:function(){return(e=a,e&&e.__esModule?e:{default:e}).default;var e}})},1777:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(18);t.default=function(e){return a({},e,{page:1,menu:a({},e.menu,{"search.language.value":r.activeLang,"search.type.value":""}),refinementList:null})}},1778:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=c(a),l=n(565),o=n(18),i=n(465),u=c(n(7)),s=n(429);function c(e){return e&&e.__esModule?e:{default:e}}var f=(0,s.isPath)(u.default.document.location.pathname,"/courses"),d=(0,i.connectMenu)(function(){return null});t.default=function(){return r.default.createElement(a.Fragment,null,r.default.createElement(d,{attribute:"search.language.value",defaultRefinement:o.activeLang}),f&&r.default.createElement(d,{attribute:"search.type.value",defaultRefinement:"course"}),r.default.createElement(l.Configure,{hitsPerPage:10}))}},1779:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4115);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=a,e&&e.__esModule?e:{default:e}).default;var e}})},1780:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(2)),r=s(n(3)),l=n(471),o=n(420),i=n(403),u=n(18);function s(e){return e&&e.__esModule?e:{default:e}}var c={classes:r.default.shape({root:r.default.string}),isGoHome:r.default.bool,onClick:r.default.func},f=function(e){var t=e.isGoHome,n=e.onClick,r=e.classes;return t?a.default.createElement(o.Button,{className:r.root,ocStyle:"alternative",Component:"a",href:"/",icon:a.default.createElement(l.Icon,{name:l.names.CHEVRON_LEFT})},a.default.createElement(u.Translate,{content:"universal_search.actions.go_back_home"})):a.default.createElement(o.Button,{className:r.root,ocStyle:"alternative",onClick:n,icon:a.default.createElement(l.Icon,{name:l.names.CHEVRON_LEFT})},a.default.createElement(u.Translate,{content:"universal_search.actions.go_back"}))};f.propTypes=c,f.defaultProps={classes:{},isGoHome:!1,onClick:function(){}},t.default=(0,i.withStyles)({root:{"&> svg":{width:16,height:16}}})(f)},4099:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(2),l=(a=r)&&a.__esModule?a:{default:a},o=n(435);t.default=function(){return l.default.createElement(o.Helmet,null,l.default.createElement("meta",{name:"prerender-status-code",content:"404"}))}},4100:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ROUTE_SEARCH="/search/:page?",t.ROUTE_SEARCH_ALTERNATE="/courses"},4101:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e){var t=(0,l.default)(i,s,c)(r.default.parse(e));t.q&&(t.query=t.q,delete t.q);return t};var r=o(n(1120)),l=o(n(678));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=a({},e),n=t.categories?t.categories.split(","):"";return t.categories?(t.refinementList={"category.name":n},delete t.categories,t):t}var u=function(e,t){return function(n){var r,l,o,i=a({},n);return i[e]?(i.menu=a({},i.menu,(r={},l=t,o=i[e],l in r?Object.defineProperty(r,l,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[l]=o,r)),delete i[e],i):i}},s=u("language","search.language.value"),c=u("type","search.type.value")},4102:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=n(1777),o=(a=l)&&a.__esModule?a:{default:a};t.default=function(e,t){var n=""!==t,a=r({},e,{query:t});return n?a:(0,o.default)(a)}},4103:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4104);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=a,e&&e.__esModule?e:{default:e}).default;var e}})},4104:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(2),o=S(l),i=S(n(312)),u=S(n(3)),s=n(311),c=n(403),f=n(503),d=S(n(7)),p=S(n(4105)),h=n(1220),m=S(n(1778)),g=S(n(4106)),v=S(n(4107)),y=S(n(4111)),b=S(n(4127)),_=S(n(4128)),O=S(n(1780));function S(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=d.default.document.location.pathname.match(/\/courses$/),w=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,o=Array(l),i=0;i<l;i++)o[i]=arguments[i];return n=r=C(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={selectedFilters:{}},r.handleSelectFilter=function(e,t){r.setState(function(n){return a({},n,{selectedFilters:a({},n.selectedFilters,E({},e,t))})})},r.handleResetFilters=function(){var e=r.props,t=e.onSearchStateChange,n=e.searchState;t((0,h.resetSearchStateFilters)(n))},C(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"getAppliedFiltersCount",value:function(){var e=this.state.selectedFilters;return Object.keys(e).reduce(function(t,n){return t+(e[n]>0?1:0)},0)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.algoliaConfig,a=e.onSearchStateChange,r=e.searchState,l=e.onGoBack,u=e.isSearchPage,s=e.isMobile,c=d.default.document.getElementById("mainSearch");if(!c)return null;var f=!P&&!s,p=this.getAppliedFiltersCount(),h=o.default.createElement(g.default,{onResetFilters:this.handleResetFilters,filterCount:p});return i.default.createPortal(o.default.createElement("div",{className:t.resultsContainer},o.default.createElement(m.default,null),f&&o.default.createElement(O.default,{onClick:l,isGoHome:u}),o.default.createElement(b.default,null),o.default.createElement(y.default,{onGoBack:l,isSearchPage:u,algoliaConfig:n,onSearchStateChange:a,searchState:r,onSelectFilter:this.handleSelectFilter,filterCount:p,resetFiltersButton:h}),o.default.createElement(v.default,{resetFiltersButton:h}),o.default.createElement(_.default,null)),c)}}]),t}();w.propTypes={algoliaConfig:p.default.isRequired,classes:u.default.objectOf(u.default.string),isSearchPage:u.default.bool,isMobile:u.default.bool,searchState:u.default.object.isRequired,onSearchStateChange:u.default.func,onGoBack:u.default.func},w.defaultProps={classes:{},onSearchStateChange:function(){},onGoBack:function(){},isSearchPage:!1,isMobile:!1},t.default=(0,s.compose)(f.withResponsive,(0,c.withStyles)(function(){return E({resultsContainer:{marginBottom:"2rem",position:"relative"}},"@media "+f.MEDIA_MATCH_LARGE+", "+f.MEDIA_MATCH_XLARGE,{resultsContainer:{paddingTop:16,minHeight:600}})}))(w)},4105:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(3),l=(a=r)&&a.__esModule?a:{default:a};t.default=l.default.shape({appId:l.default.string.isRequired,apiKey:l.default.string.isRequired,indexName:l.default.string.isRequired})},4106:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(2)),r=u(n(3)),l=n(420),o=n(403),i=n(18);function u(e){return e&&e.__esModule?e:{default:e}}var s={classes:r.default.objectOf(r.default.string),filterCount:r.default.number,onResetFilters:r.default.func},c=function(e){var t=e.filterCount,n=e.onResetFilters,r=e.classes;return 0===t?null:a.default.createElement(i.Translate,{component:l.Button,className:r.root,onClick:n,ocStyle:"alternative",content:"universal_search.actions.clear_filters_desktop",count:t})};c.propTypes=s,c.defaultProps={classes:{},filterCount:0,onResetFilters:function(){}},t.default=(0,o.withStyles)(function(e){return{root:{marginTop:2*e.spacing.unit}}})(c)},4107:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4108);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=a,e&&e.__esModule?e:{default:e}).default;var e}})},4108:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hits=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=h(n(2)),l=n(465),o=h(n(3)),i=n(311),u=n(981),s=n(799),c=n(403),f=h(n(4109)),d=h(n(4110)),p=h(n(1541));function h(e){return e&&e.__esModule?e:{default:e}}var m={hits:o.default.arrayOf(o.default.shape({illustration:o.default.string,shortDescription:o.default.string,creatorPartners:o.default.arrayOf(o.default.shape({name:o.default.string})),title:o.default.string.isRequired,openedAt:o.default.string,search:o.default.shape({OpenClassroomsUrl:o.default.string,expectedRelease:o.default.shape({season:o.default.shape({value:o.default.string}),year:o.default.shape({value:o.default.number})})}),duration:o.default.string,category:o.default.shape({name:o.default.string,color:o.default.string}),difficulty:o.default.string,objectID:o.default.string.isRequired})).isRequired,resetFiltersButton:o.default.element,searchResults:o.default.shape({nbHits:o.default.number.isRequired}),classes:o.default.objectOf(o.default.string)},g=t.Hits=function(e){var t=e.hits,n=e.searchResults,l=e.classes,o=e.resetFiltersButton;return n&&0===n.nbHits?r.default.createElement(d.default,{resetFiltersButton:o}):r.default.createElement("ul",{className:l.list},t.map(function(e){return"path"===e.search.type.value?r.default.createElement(s.PathCardHorizontal,a({key:e.objectID,className:l.hitComponent,component:e.openedAt?p.default:"li",href:e.search.OpenClassroomsUrl},(0,f.default)(e))):r.default.createElement(u.CourseCard,a({key:e.objectID,className:l.hitComponent,component:e.openedAt?p.default:"li",href:e.search.OpenClassroomsUrl},(0,f.default)(e)))}))};g.propTypes=m,g.defaultProps={resetFiltersButton:null,searchResults:null,classes:{}},t.default=(0,i.compose)(l.connectHits,l.connectStateResults,(0,c.withStyles)(function(e){return{list:{listStyle:"none",padding:0,"& a ":{textDecoration:"none"}},hitComponent:{"& + &":{marginTop:2*e.spacing.unit}}}}))(g)},4109:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e){switch(e.search.type.value){case"path":return function(e){var t=l(e),n=(r=e.certifications,r.length>0?r[0].level:"");var r;return a({},t,{certification:n})}(e);case"course":default:return function(e){var t=l(e);return a({},t,{difficulty:e.difficulty})}(e)}};var r=n(441);function l(e){var t,n=(e.creatorPartners||[]).map(function(e){return e.name}),a=(t=e.search.expectedRelease)?{season:t.season.value,year:t.year.value}:{season:null,year:null};return{title:e.title,partners:n,illustration:e.illustration?r.imgixService.getUrl(e.illustration):null,children:e.shortDescription||"",category:e.category.name+" - "+e.search.type.label,categoryColor:e.category.color,duration:e.duration,openedAt:e.openedAt,releaseSeason:a.season,releaseYear:a.year}}},4110:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoHit=t.styles=void 0;var a=n(2),r=c(a),l=n(407),o=n(403),i=n(18),u=c(n(3)),s=n(1776);function c(e){return e&&e.__esModule?e:{default:e}}var f=t.styles=function(e){return{title:{marginTop:2*e.spacing.unit}}},d={classes:u.default.objectOf(u.default.string),resetFiltersButton:u.default.element},p=t.NoHit=function(e){var t=e.classes,n=e.resetFiltersButton;return r.default.createElement(a.Fragment,null,r.default.createElement(s.NoSSR,null),r.default.createElement(i.Translate,{className:t.title,component:l.Typography,variant:l.TYPOGRAPHY.VARIANT.H6,content:"universal_search.no_hit.messages.sorry"}),n,r.default.createElement("ul",null,r.default.createElement("li",null,r.default.createElement(i.Translate,{component:l.Typography,content:"universal_search.no_hit.messages.tip1"})),r.default.createElement("li",null,r.default.createElement(i.Translate,{component:l.Typography,content:"universal_search.no_hit.messages.tip2"})),r.default.createElement("li",null,r.default.createElement(i.Translate,{component:l.Typography,content:"universal_search.no_hit.messages.tip3"}))))};p.propTypes=d,p.defaultProps={classes:{},resetFiltersButton:null},t.default=(0,o.withStyles)(f)(p)},4111:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4112);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=a,e&&e.__esModule?e:{default:e}).default;var e}})},4112:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FiltersBar=t.styles=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),l=v(r),o=v(n(3)),i=v(n(426)),u=n(403),s=n(311),c=n(465),f=n(503),d=n(957),p=v(n(4113)),h=v(n(1779)),m=v(n(1780)),g=v(n(4120));function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=t.styles=function(e){var t,n,a=e.breakpoints,r=e.spacing;return{root:(t={},b(t,a.up("md"),{margin:[["1rem",2*-r.unit,"0",2*-r.unit]],padding:2*r.unit}),b(t,"margin",[["1rem",-r.unit,"0",-r.unit]]),b(t,"padding",r.unit),b(t,"top",0),b(t,"position","sticky"),b(t,"zIndex",11),b(t,"background","white"),t),hasNoResult:(n={},b(n,a.up("md"),{display:"none"}),b(n,"& $filterButtonContainer",{display:"none"}),n),buttons:{display:"flex",justifyContent:"space-between"},filterButtonContainer:{},resetButton:{marginTop:2*r.unit}}},O=t.FiltersBar=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return n=a=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={isFiltersPageOpen:!1},a.handleFiltersPageToggle=function(){a.toggleFiltersPage()},a.handleApplyFilter=function(e){(0,a.props.onSearchStateChange)(e),a.toggleFiltersPage()},y(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"toggleFiltersPage",value:function(){this.setState(function(e){return{isFiltersPageOpen:!e.isFiltersPageOpen}})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.filterCount,a=e.isMobile,o=e.searchResults,u=e.algoliaConfig,s=e.searchState,c=e.onGoBack,f=e.onSelectFilter,d=e.isSearchPage,v=e.resetFiltersButton,y=this.state.isFiltersPageOpen,_=o&&0===o.nbHits;return l.default.createElement(r.Fragment,null,l.default.createElement("div",{className:(0,i.default)(t.root,b({},t.hasNoResult,_))},a&&l.default.createElement("div",{className:t.buttons},l.default.createElement("div",null,l.default.createElement(m.default,{isGoHome:d,onClick:c})),l.default.createElement("div",{className:t.filterButtonContainer},l.default.createElement(g.default,{searchState:s,algoliaConfig:u,count:n,onClick:this.handleFiltersPageToggle,onApplyFilter:this.handleApplyFilter,onCancel:this.handleFiltersPageToggle,isVisible:y,onSelectFilter:f}))),l.default.createElement("div",{style:{display:a?"none":"block"}},l.default.createElement(h.default,{onSelectFilter:f,filterComponent:p.default}),v)))}}]),t}();O.propTypes={algoliaConfig:o.default.shape(d.algoliaConfigType).isRequired,classes:o.default.objectOf(o.default.string),filterCount:o.default.number,isMobile:o.default.bool.isRequired,isSearchPage:o.default.bool,resetFiltersButton:o.default.element,searchState:o.default.object.isRequired,searchResults:o.default.shape({nbHits:o.default.number.isRequired}),onGoBack:o.default.func,onSearchStateChange:o.default.func,onSelectFilter:o.default.func},O.defaultProps={classes:{},filterCount:0,isSearchPage:!1,onGoBack:function(){},onSearchStateChange:function(){},onSelectFilter:function(){},resetFiltersButton:null,searchResults:null},t.default=(0,s.compose)(c.connectStateResults,(0,u.withStyles)(_),f.withResponsive)(O)},4113:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),l=v(r),o=n(311),i=v(n(3)),u=n(1703),s=v(n(426)),c=n(403),f=v(n(658)),d=v(n(444)),p=n(407),h=v(n(7)),m=n(1719),g=v(n(4114));function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b={close:"escape"},_=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return n=a=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.handleClickOutside=function(e){var t=a.props,n=t.isOpen,r=t.onSwitch;if(n){var l=e.target;a.contentRef.contains(l)||r()}},a.handlePaperContentRef=function(e){e&&(a.contentRef=e)},y(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"componentDidMount",value:function(){h.default.document.body.addEventListener("click",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){h.default.document.body.removeEventListener("click",this.handleClickOutside)}},{key:"render",value:function(){var e,t,n,a=this.props,r=a.classes,o=a.children,i=a.onSwitch,c=a.isOpen,h=a.label,m=a.caption,v=a.isHidden,y=a.labelMore,_=a.isActive,O={close:function(){c&&i()}};return l.default.createElement(u.HotKeys,{className:(0,s.default)(r.root,(e={},t=r.isOpen,n=c,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e)),keyMap:b,handlers:O,"aria-hidden":v},l.default.createElement("div",{ref:this.handlePaperContentRef},l.default.createElement(g.default,{isHighlited:_,"aria-expanded":c,onClick:i,tabIndex:v?-1:0,icon:l.default.createElement(f.default,{className:(0,s.default)(r.icon,r.expandIcon)}),hasIconRight:!0},h,y?" ("+y+")":""),l.default.createElement(d.default,{elevation:24,className:r.container},l.default.createElement(p.Typography,{component:"p",variant:p.TYPOGRAPHY.VARIANT.BODY1},m),o)))}}]),t}();_.propTypes={children:i.default.node.isRequired,classes:i.default.objectOf(i.default.string).isRequired,caption:i.default.string,isActive:i.default.bool,isHidden:i.default.bool,isOpen:i.default.bool,label:i.default.string,labelMore:i.default.string,onSwitch:i.default.func},_.defaultProps={label:"",labelMore:"",caption:"",isActive:!1,isHidden:!1,isOpen:!1,onSwitch:function(){}},t.default=(0,o.compose)((0,m.trapFocusHoc)(function(e){return e.isOpen}),(0,c.withStyles)(function(e){var t=e.transitions,n=e.palette;return{root:{zIndex:10,position:"relative",outline:0},icon:{"&$icon":{top:0,margin:0,verticalAlign:"bottom",left:"-0.3rem"}},expandIcon:{"&$expandIcon":{position:"relative",transform:"rotate(0deg)",left:"0.3rem",transition:"transform "+t.duration.shortest+"ms "+t.easing.easeInOut}},container:{maxWidth:500,minWidth:400,padding:"1rem",marginTop:"1rem",position:"absolute",display:"none"},button:{"&, &:hover, &:focus":{background:"white",color:n.text.secondary,border:"none"}},isOpen:{"& $expandIcon":{transform:"rotate(180deg)"},"& $container":{display:"block"},"& $clickCatcher":{display:"block",position:"fixed",top:0,left:0,right:0,bottom:0}}}}))(_)},4114:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchButton=t.styles=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=c(n(2)),l=n(311),o=c(n(426)),i=c(n(3)),u=n(403),s=n(420);function c(e){return e&&e.__esModule?e:{default:e}}var f=t.styles=function(e){var t=e.palette,n=e.spacing;return{button:{"&, &:hover, &:focus":{background:"white",color:t.text.caption,border:"none"}},highlited:{color:[t.primary.main,"!important"]},icon:{"&$icon svg":{top:0,margin:0,marginRight:n.unit,verticalAlign:"bottom",left:"-0.3rem"}}}},d={children:i.default.node.isRequired,classes:i.default.objectOf(i.default.string).isRequired,icon:i.default.node,isHighlited:i.default.bool},p=function(e){var t,n,l,i=e.classes,u=e.children,c=e.icon,f=e.isHighlited,d=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["classes","children","icon","isHighlited"]);return r.default.createElement(s.Button,a({className:(0,o.default)(i.button,(t={},n=i.highlited,l=f,n in t?Object.defineProperty(t,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[n]=l,t)),icon:c},d),u)};t.SearchButton=p,p.propTypes=d,p.defaultProps={isHighlited:!1,icon:null},t.default=(0,l.compose)((0,u.withStyles)(f))(p)},4115:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(2),o=h(l),i=h(n(3)),u=h(n(426)),s=n(403),c=h(n(7)),f=h(n(4116)),d=h(n(4118)),p=h(n(4119));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=c.default.document.location.pathname.match(/\/courses$/)&&Boolean(c.default.document.location.search.match(/killCategories/)),y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,i=Array(l),s=0;s<l;s++)i[s]=arguments[s];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={openedFilterName:null},r.handleFilterSwitch=function(e){r.setState(function(t){return{openedFilterName:t.openedFilterName===e?null:e}})},r.handleActiveItemsChange=function(e,t){(0,r.props.onSelectFilter)(e,t.length)},r.renderFilter=function(e){var t=e.name,n=e.content,l=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["name","content"]),i=l.isHidden,s=r.props,c=s.classes,f=s.filterComponent;return o.default.createElement("div",{className:(0,u.default)(c.item,g({},c.isItemHidden,i))},o.default.createElement(f,a({},l,{onSwitch:function(){r.handleFilterSwitch(t)}}),n))},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.openedFilterName;return o.default.createElement("div",{className:e.root},!v&&o.default.createElement(p.default,{name:"type",isOpen:"type"===t,onActiveItemsChange:this.handleActiveItemsChange,render:this.renderFilter,attribute:"search.type.value"}),o.default.createElement(f.default,{name:"category",isOpen:"category"===t,onActiveItemsChange:this.handleActiveItemsChange,render:this.renderFilter,attribute:"category.name",limit:16}),o.default.createElement(d.default,{name:"language",isOpen:"language"===t,onActiveItemsChange:this.handleActiveItemsChange,render:this.renderFilter,attribute:"search.language.value"}))}}]),t}();y.propTypes={classes:i.default.objectOf(i.default.string),filterComponent:i.default.func.isRequired,onSelectFilter:i.default.func},y.defaultProps={classes:{},onSelectFilter:function(){}},t.default=(0,s.withStyles)(function(e){var t,n=e.palette,a=e.breakpoints,r=e.spacing;return{root:g({},a.up("lg"),{display:"flex"}),item:{"&:not($isItemHidden) + $item":(t={},g(t,a.up("lg"),{marginLeft:2*r.unit}),g(t,a.down("md"),{marginTop:2*r.unit,"&::before":{borderTop:"1px solid "+n.divider,height:1,content:"''",display:"block",marginLeft:-2*r.unit,marginRight:-2*r.unit,marginBottom:2*r.unit}}),t)},isItemHidden:{opacity:0,pointerEvents:"none",position:"absolute",left:-1e5}}})(y)},4116:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CategoryFilter=t.styles=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.sortItems=y;var r=n(2),l=h(r),o=n(311),i=h(n(690)),u=h(n(3)),s=n(465),c=n(403),f=n(427),d=n(18),p=h(n(4117));function h(e){return e&&e.__esModule?e:{default:e}}var m=t.styles=function(){return{list:{listStyleType:"none",margin:"1rem 0 0 0",flexDirection:"row",padding:0},item:{marginRight:"1rem",display:"inline-block",marginBottom:"1rem"},root:{}}};function g(e){return e.filter(function(e){return e.isRefined}).map(function(e){return e.label}).sort()}function v(e){return g(e).length}function y(e){var t=["Autres","Others"];return(0,i.default)(e,[function(e){return t.includes(e.label)},"label"])}var b=t.CategoryFilter=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props.items;this.handleChange(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props.items;v(e.items)!==v(t)&&this.handleChange(t)}},{key:"handleChange",value:function(e){var t=this.props,n=t.name;(0,t.onActiveItemsChange)(n,g(e))}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.items,a=e.refine,r=e.render,o=e.isOpen,i=e.name;if(0===n.length)return null;var u=(0,d.translate)("universal_search.filters.category.bouton_label"),s=(0,d.translate)("universal_search.filters.category.title"),c=l.default.createElement("ul",{className:t.list},y((0,p.default)(n)).map(function(e){return l.default.createElement("li",{key:e.label,className:t.item},l.default.createElement(f.Chip,{color:e.color,tabIndex:o?0:-1,classes:{root:t.root},onClick:function(){a(e.value)},label:e.label,selected:e.isRefined}))})),h=g(n);return r({name:i,label:u,labelMore:h.length>0?String(h.length):null,caption:s,content:c,isOpen:o,isActive:h.length>0,selectedItems:g(n)})}}]),t}();b.propTypes={items:u.default.arrayOf(u.default.shape({label:u.default.string.isRequired,value:u.default.array.isRequired,isRefined:u.default.bool.isRequired})).isRequired,name:u.default.string.isRequired,classes:u.default.objectOf(u.default.string),isOpen:u.default.bool,refine:u.default.func,render:u.default.func,onActiveItemsChange:u.default.func},b.defaultProps={render:function(e,t,n){return l.default.createElement("div",null,n)},isOpen:!1,refine:function(){},classes:{},onActiveItemsChange:function(){}},t.default=(0,o.compose)(s.connectRefinementList,(0,c.withStyles)(m))(b)},4117:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=["#7451EB","#00838F","#0277BD","#304FFE","#512DA8","#140078","#004D40","#0026CA","#F44336","#D81B60","#AB47BC"],l=["Autres","Développement","Systèmes et Réseaux","Marketing & Communication","Gestion de projet","Ressources Humaines","Data","Entrepreneuriat","Pédagogie","Design","Insertion professionnelle"].map(function(e){return e.toLowerCase()}),o=["Others","Development","Systems and Network","Marketing & Communication","Project Management","Human resources","Data","Entrepreneurship","Pedagogy","Design","Career Coaching"].map(function(e){return e.toLowerCase()}),i=function(e){var t=e.toLowerCase(),n=l.indexOf(t);if(-1!==n)return r[n];var a=o.indexOf(t);return-1!==a?r[a]:"#737373"};t.default=function(e){return e.map(function(e){return a({},e,{color:i(e.label)})})}},4118:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageFilter=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.sortItems=O;var l=n(2),o=v(l),i=n(311),u=v(n(690)),s=v(n(3)),c=n(465),f=n(403),d=v(n(725)),p=v(n(726)),h=v(n(592)),m=v(n(561)),g=n(18);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e){var t={en:(0,g.translate)("universal_search.filters.language.iso_to_text.en"),fr:(0,g.translate)("universal_search.filters.language.iso_to_text.fr"),es:(0,g.translate)("universal_search.filters.language.iso_to_text.es")};return e.map(function(e){return r({},e,{label:t[e.label]})})}function _(e){return b(e).filter(function(e){return e.isRefined}).map(function(e){return e.label}).sort()}function O(e){return(0,u.default)(e,[function(e){return e.label!==g.activeLang},"label"])}function S(e){var t=e.find(function(e){return e.isRefined});return t?t.label:null}function C(e){var t=S(e);return null===t||t===g.activeLang}var E=t.LanguageFilter=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return n=a=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.handleLanguageChange=function(e){var t=e.target.value;(0,a.props.refine)(t)},y(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props.items;this.handleChange(e)}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.isOpen,a=t.items,r=e.isOpen!==n,l=e.items.length!==a.length,o=S(e.items)!==S(a);return r||l||o}},{key:"componentDidUpdate",value:function(e){var t=this.props.items;S(e.items)!==S(t)&&this.handleChange(t)}},{key:"handleChange",value:function(e){var t=C(e),n=this.props;(0,n.onActiveItemsChange)(n.name,t?[]:_(e))}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.items,a=e.render,r=e.isOpen,l=e.name;if(0===n.length)return null;var i=(0,g.translate)("universal_search.filters.language.bouton_label"),u=(0,g.translate)("universal_search.filters.language.title"),s=b(O(n)),c=_(n),f=C(n),v=o.default.createElement(m.default,{className:t.root,component:"fieldset"},o.default.createElement(p.default,{"aria-label":i,name:"language",onChange:this.handleLanguageChange},s.map(function(e){var n=e.value,a=e.isRefined,r=e.label;return o.default.createElement(h.default,{key:r,classes:{label:t.labelText},control:o.default.createElement(d.default,{value:n,checked:a,color:"primary"}),label:r})})));return a({name:l,label:i,labelMore:f?null:c[0],shouldHideSelectedItems:f,caption:u,content:v,selectedItems:c,isOpen:r,isActive:!f,isHidden:1===n.length})}}]),t}();E.propTypes={items:s.default.arrayOf(s.default.shape({label:s.default.string.isRequired,value:s.default.string.isRequired,isRefined:s.default.bool.isRequired})).isRequired,name:s.default.string.isRequired,classes:s.default.objectOf(s.default.string).isRequired,isOpen:s.default.bool,refine:s.default.func,render:s.default.func,onActiveItemsChange:s.default.func},E.defaultProps={render:function(e,t,n){return o.default.createElement("div",null,n)},isOpen:!1,refine:function(){},onActiveItemsChange:function(){}},t.default=(0,i.compose)(c.connectMenu,(0,f.withStyles)(function(e){var t=e.typography;return{labelText:r({},t.body2)}}))(E)},4119:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeFilter=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.sortItems=O;var l=n(2),o=v(l),i=n(311),u=v(n(690)),s=v(n(3)),c=n(465),f=n(403),d=v(n(725)),p=v(n(726)),h=v(n(592)),m=v(n(561)),g=n(18);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e){var t={course:(0,g.translate)("universal_search.filters.type.type_course"),path:(0,g.translate)("universal_search.filters.type.type_path")};return e.map(function(e){return r({},e,{label:t[e.label]})})}function _(e){return b(e.filter(function(e){return e.isRefined})).map(function(e){return e.label}).sort()}function O(e){return(0,u.default)(e,function(e){return"path"!==e.label})}function S(e){var t=e.find(function(e){return e.isRefined});return t?t.label:"all"}var C=t.TypeFilter=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return n=a=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.handleTypeChange=function(e){var t=e.target.value;(0,a.props.refine)(t)},y(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props.items;this.handleChange(e)}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.isOpen,a=t.items,r=e.isOpen!==n,l=e.items.length!==a.length,o=S(e.items)!==S(a);return r||l||o}},{key:"componentDidUpdate",value:function(e){var t=this.props.items;S(e.items)!==S(t)&&this.handleChange(t)}},{key:"handleChange",value:function(e){var t=this.props;(0,t.onActiveItemsChange)(t.name,"all"===S(e)?[]:_(e))}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.items,a=e.render,r=e.isOpen,l=e.name;if(0===n.length)return null;var i=(0,g.translate)("universal_search.filters.type.bouton_label"),u=(0,g.translate)("universal_search.filters.type.title"),s=b(O(n)),c=_(n),f=n.some(function(e){return e.isRefined}),v=o.default.createElement(m.default,{className:t.root,component:"fieldset"},o.default.createElement(p.default,{"aria-label":i,name:"type",onChange:this.handleTypeChange},o.default.createElement(h.default,{classes:{label:t.labelText},control:o.default.createElement(d.default,{value:"",checked:!f,color:"primary"}),label:(0,g.translate)("universal_search.filters.type.type_all")}),s.map(function(e){var n=e.value,a=e.isRefined,r=e.label;return o.default.createElement(h.default,{key:r,classes:{label:t.labelText},control:o.default.createElement(d.default,{value:n,checked:a,color:"primary"}),label:r})})));return a({name:l,label:i,labelMore:f?c[0]:null,shouldHideSelectedItems:!f,caption:u,content:v,selectedItems:c,isOpen:r,isActive:f,isHidden:1===n.length})}}]),t}();C.propTypes={items:s.default.arrayOf(s.default.shape({label:s.default.string.isRequired,value:s.default.string.isRequired,isRefined:s.default.bool.isRequired})).isRequired,name:s.default.string.isRequired,classes:s.default.objectOf(s.default.string).isRequired,isOpen:s.default.bool,refine:s.default.func,render:s.default.func,onActiveItemsChange:s.default.func},C.defaultProps={render:function(e,t,n){return o.default.createElement("div",null,n)},isOpen:!1,refine:function(){},onActiveItemsChange:function(){}},t.default=(0,i.compose)(c.connectMenu,(0,f.withStyles)(function(e){var t=e.typography;return{labelText:r({},t.body2)}}))(C)},4120:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FiltersPanelButton=void 0;var a=n(2),r=d(a),l=d(n(3)),o=d(n(4121)),i=n(420),u=n(18),s=n(957),c=d(n(4122)),f=d(n(4123));function d(e){return e&&e.__esModule?e:{default:e}}var p={algoliaConfig:l.default.shape(s.algoliaConfigType).isRequired,count:l.default.number,isVisible:l.default.bool,searchState:l.default.shape({page:l.default.number,query:l.default.string,refinementList:l.default.objectOf(l.default.arrayOf(l.default.string))}),selectedFilters:l.default.objectOf(l.default.number),onApplyFilter:l.default.func,onCancel:l.default.func,onClick:l.default.func},h=t.FiltersPanelButton=function(e){var t=e.count,n=e.onClick,l=e.selectedFilters,s=e.onApplyFilter,d=e.isVisible,p=e.onCancel,h=e.searchState,m=e.algoliaConfig;return r.default.createElement(a.Fragment,null,r.default.createElement(i.Button,{ocStyle:"secondary",onClick:n,icon:r.default.createElement(o.default,null)},r.default.createElement(u.Translate,{content:"universal_search.actions.filters_button",with:{count:t},count:t})),r.default.createElement(f.default,{searchState:h,algoliaConfig:m,onApplyFilter:s,onCancel:p,isVisible:d,selectedFilters:l,filterComponent:c.default}))};h.propTypes=p,h.defaultProps={count:0,selectedFilters:{},isVisible:!1,searchState:{},onApplyFilter:function(){},onCancel:function(){},onClick:function(){}},t.default=h},4121:function(e,t,n){"use strict";var a=n(423);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(2)),l=(0,a(n(424)).default)(r.default.createElement(r.default.Fragment,null,r.default.createElement("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),r.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"FilterList");t.default=l},4122:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),l=h(r),o=n(311),i=h(n(3)),u=h(n(426)),s=n(407),c=h(n(535)),f=n(403),d=h(n(658)),p=h(n(461));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return n=a=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.handleElementClose=function(e){e.stopPropagation(),(0,a.props.onSwitch)()},m(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"render",value:function(){var e,t,n,a=this.props,r=a.classes,o=a.children,i=a.isOpen,f=a.label,h=a.caption,m=a.selectedItems,g=a.isHidden,v=a.shouldHideSelectedItems,y=m.length>0,b=y&&!v,_=i||!y||v;return l.default.createElement("div",{"aria-expanded":i,"aria-hidden":g,className:(0,u.default)(r.root,(e={},t=r.opened,n=i,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e)),onClick:i?null:this.handleElementClose},l.default.createElement(p.default,{onClick:this.handleElementClose,className:r.collapseIcon,color:"inherit"},l.default.createElement(d.default,null)),l.default.createElement(s.Typography,{component:"h4",variant:s.TYPOGRAPHY.VARIANT.H6,className:r.title,onClick:this.handleElementClose,color:"inherit"},f),_&&l.default.createElement(s.Typography,{component:"p",variant:s.TYPOGRAPHY.VARIANT.BODY1,color:"inherit"},h),l.default.createElement(c.default,{in:i},o),b&&l.default.createElement(s.Typography,{className:r.selectedItems,variant:s.TYPOGRAPHY.VARIANT.CAPTION},m.join(", ")))}}]),t}();g.propTypes={children:i.default.node.isRequired,classes:i.default.objectOf(i.default.string).isRequired,caption:i.default.string,isHidden:i.default.bool,isOpen:i.default.bool,label:i.default.string,selectedItems:i.default.arrayOf(i.default.string),shouldHideSelectedItems:i.default.bool,onSwitch:i.default.func},g.defaultProps={caption:"",label:"",selectedItems:[],isOpen:!1,isHidden:!1,shouldHideSelectedItems:!1,onSwitch:function(){}},t.default=(0,o.compose)((0,f.withStyles)(function(e){var t=e.transitions,n=e.palette,a=e.spacing;return{root:{color:n.text.secondary,position:"relative"},title:{marginBottom:a.unit},collapseIcon:{position:"absolute",top:2*-a.unit,right:2*-a.unit,transform:"rotate(0deg)",transition:t.create("transform",{duration:t.duration.shortest})},selectedItems:{color:n.primary.main,display:"block"},opened:{"& $collapseIcon":{transform:"rotate(180deg)"},"& $selectedItems":{display:"none"}}}}))(g)},4123:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4124);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=a,e&&e.__esModule?e:{default:e}).default;var e}})},4124:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),l=_(r),o=_(n(3)),i=_(n(444)),u=n(403),s=n(1279),c=n(420),f=n(407),d=n(565),p=n(465),h=n(18),m=n(957),g=n(1220),v=_(n(1778)),y=_(n(1779)),b=_(n(4125));function _(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S={algoliaConfig:o.default.shape(m.algoliaConfigType).isRequired,classes:o.default.objectOf(o.default.string),isVisible:o.default.bool,onApplyFilter:o.default.func,onCancel:o.default.func},C=(0,p.connectSearchBox)(function(){return null}),E=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return n=a=O(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={currentSearchState:null,nextSearchState:{}},a.handleSearchStateChange=function(e){a.setState(function(){return{nextSearchState:e}})},a.handleReset=function(){a.setState(function(e){var t=e.nextSearchState;return{nextSearchState:(0,g.resetSearchStateFilters)(t)}})},O(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.onCancel,a=e.isVisible,r=e.onApplyFilter,o=e.algoliaConfig,u=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["classes","onCancel","isVisible","onApplyFilter","algoliaConfig"]),p=this.state.nextSearchState;return l.default.createElement(s.FullScreenDialog,{title:(0,h.translate)("universal_search.titles.filter_panel"),actionElement:l.default.createElement(c.Button,{onClick:this.handleReset,ocStyle:"alternative"},(0,h.translate)("universal_search.actions.clear_filters")),onClose:n,isOpen:a},l.default.createElement(d.InstantSearch,{onSearchStateChange:this.handleSearchStateChange,searchState:p,appId:o.appId,apiKey:o.apiKey,indexName:o.indexName},l.default.createElement(v.default,null),l.default.createElement(C,null),l.default.createElement(f.Typography,{component:"h3",className:t.title,variant:f.TYPOGRAPHY.VARIANT.H6},(0,h.translate)("universal_search.messages.filter_hint")),l.default.createElement(i.default,{elevation:3,className:t.filterContainer},l.default.createElement(y.default,u)),l.default.createElement(b.default,{onClick:function(){r(p)}})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isVisible?null===t.currentSearchState?{currentSearchState:e.searchState,nextSearchState:e.searchState}:null:{currentSearchState:null}}}]),t}();E.propTypes=S,E.defaultProps={classes:{},onCancel:function(){},onApplyFilter:function(){},isVisible:!1},t.default=(0,u.withStyles)(function(e){var t=e.spacing;return{filterContainer:{padding:2*t.unit},title:{margin:2*t.unit,marginRight:0}}})(E)},4125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=p(n(2)),l=p(n(3)),o=n(311),i=n(403),u=n(465),s=n(407),c=p(n(4126)),f=p(n(473)),d=n(18);function p(e){return e&&e.__esModule?e:{default:e}}var h={classes:l.default.objectOf(l.default.string).isRequired,searchResults:l.default.shape({nbHits:l.default.number.isRequired}),onClick:l.default.func},m=function(e){var t=e.searchResults,n=e.onClick,a=e.classes;return t?r.default.createElement(f.default,{className:a.root,onClick:n},r.default.createElement("span",{className:a.inner},r.default.createElement(s.Typography,{component:"span",variant:s.TYPOGRAPHY.VARIANT.BODY2,className:a.label},(0,d.translate)("universal_search.actions.see_n_results",{count:t.nbHits},t.nbHits)),r.default.createElement(c.default,{className:a.icon}))):null};m.propTypes=h,m.defaultProps={searchResults:null,onClick:function(){}},t.default=(0,o.compose)((0,i.withStyles)(function(e){var t=e.mixins,n=e.palette,r=e.spacing;return{root:a({"&, &:hover":{color:n.common.white,background:n.primary.main},width:"100vw",position:"fixed",left:0,bottom:0,borderRadius:0,textAlign:"right",paddingLeft:2*r.unit,paddingRight:2*r.unit,display:"inline"},t.toolbar),inner:{display:"inline-flex",alignItems:"center"},label:{color:n.common.white,textTransform:"uppercase"},icon:{marginLeft:r.unit}}}),u.connectStateResults)(m)},4126:function(e,t,n){"use strict";var a=n(423);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(2)),l=(0,a(n(424)).default)(r.default.createElement(r.default.Fragment,null,r.default.createElement("path",{d:"M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z"}),r.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"ArrowForwardIos");t.default=l},4127:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchResultsTitle=t.styles=void 0;var a=f(n(2)),r=n(311),l=n(403),o=f(n(3)),i=n(465),u=n(407),s=n(18),c=n(503);function f(e){return e&&e.__esModule?e:{default:e}}var d=t.styles=function(e){return{root:{margin:2*e.spacing.unit+"px 0"}}},p={classes:o.default.objectOf(o.default.string),isMobile:o.default.bool.isRequired,searchResults:o.default.shape({query:o.default.string.isRequired,nbHits:o.default.number.isRequired})},h=t.SearchResultsTitle=function(e){var t=e.classes,n=e.searchResults,r=e.isMobile,l=n&&n.query,o=r||!l?"a11y":t.root,i=l?a.default.createElement(s.Translate,{content:"universal_search.titles.main_results",with:{query:n.query,count:n.nbHits},count:n.nbHits}):a.default.createElement(s.Translate,{content:"universal_search.titles.main"});return a.default.createElement(u.Typography,{className:o,variant:u.TYPOGRAPHY.VARIANT.H2},i)};h.propTypes=p,h.defaultProps={classes:{},searchResults:null},t.default=(0,r.compose)(c.withResponsive,i.connectStateResults,(0,l.withStyles)(d))(h)},4128:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4129);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=a,e&&e.__esModule?e:{default:e}).default;var e}})},4129:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pagination=t.styles=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=v(n(2)),l=v(n(3)),o=n(465),i=n(311),u=v(n(426)),s=v(n(473)),c=v(n(1593)),f=v(n(1594)),d=n(403),p=n(18),h=v(n(606)),m=n(503),g=v(n(4130));function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={classes:l.default.objectOf(l.default.string),currentRefinement:l.default.number.isRequired,nbPages:l.default.number.isRequired,refine:l.default.func.isRequired,responsiveWidth:l.default.string},_={classes:{},responsiveWidth:m.SCREEN_WIDTH_LARGE},O=t.styles=function(e){var t=e.palette;return{button:{minWidth:"3rem",color:t.primary.main},buttonSelected:{color:t.secondary.main,cursor:"default",pointerEvents:"none"},list:{padding:0,margin:"auto",display:"flex",maxWidth:"400px",listStyle:"none",justifyContent:"center"}}},S=t.Pagination=function(e){var t=e.classes,n=e.refine,l=e.nbPages,o=e.currentRefinement,i=e.responsiveWidth,d=function(e){n(e),h.default.scrollTop()};if(l<2)return null;var v=i===m.SCREEN_WIDTH_SMALL?{pagesAround:1,pagesInMiddle:1}:{};return r.default.createElement("ul",{className:t.list},r.default.createElement("li",null,r.default.createElement(s.default,{"aria-label":(0,p.translate)("global.pagination.prev_page"),disabled:1===o,className:t.button,onClick:function(){d(o-1)}},r.default.createElement(c.default,null))),(0,g.default)(a({currentPage:o,totalPages:l},v)).map(function(e,n){var a=e===o;return r.default.createElement("li",{key:"page-"+n},r.default.createElement(s.default,{"aria-label":(0,p.translate)("global.pagination.page",{pageNumber:e}),tabIndex:a?-1:0,className:(0,u.default)(t.button,y({},t.buttonSelected,a)),onClick:function(){d(e)}},e))}),r.default.createElement("li",null,r.default.createElement(s.default,{"aria-label":(0,p.translate)("global.pagination.next_page"),disabled:o===l,className:t.button,onClick:function(){d(o+1)}},r.default.createElement(f.default,null))))};S.propTypes=b,S.defaultProps=_,t.default=(0,i.compose)((0,d.withStyles)(O),m.withResponsive,o.connectPagination)(S)},4130:function(e,t,n){"use strict";function a(e,t){return Array(t).fill().map(function(t,n){return n+e})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.currentPage,n=e.totalPages,r=e.pagesAround,l=void 0===r?3:r,o=e.pagesInMiddle,i=void 0===o?1:o,u=2*l+i;if(n<u)return a(1,n);var s=t-l;s<1?s=1:t+l>n&&(s=n-u+1);return a(s,u)}},4131:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchInputComponent=t.styles=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(2),o=v(l),i=v(n(3)),u=n(311),s=n(403),c=v(n(461)),f=v(n(4132)),d=v(n(1595)),p=v(n(426)),h=v(n(7)),m=n(18),g=n(503);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=t.styles=function(e){var t=e.palette,n=e.shadows,a=e.typography,r=e.transitions;return y({root:{position:"relative",height:44},opened:{"& $searchIcon":{color:t.primary.main},"& $input":{boxShadow:[n[1],"!important"]}},hasValue:{"& $clearButton":{display:"block",opacity:1}},input:{"&$input":{width:0,height:"1.8rem",minHeight:"44px",background:"white",padding:8,fontSize:"1.125rem",lineHeight:"1.75rem",cursor:"text",border:"none",borderRadius:"4px",boxShadow:"none",transition:"width .2s ease",color:a.body2.color,boxSizing:"border-box"}},searchIcon:{color:t.text.primary,fontSize:"2rem"},form:{display:"inline-block",width:"100%"},button:{outline:"none",cursor:"pointer",position:"absolute",border:0,background:"none",padding:0,width:"2.5rem",height:"2.5rem",color:t.secondary.main},searchButton:{display:"none"},clearButton:{opacity:0,display:"none",transition:"opacity "+r.duration.shortest+"ms",top:"4px",right:"10px"}},"@media "+g.MEDIA_MATCH_LARGE+", "+g.MEDIA_MATCH_XLARGE,{searchIcon:{},form:{width:"auto",position:"absolute",right:0,top:0},searchButton:{display:"block",left:0,top:"4px",paddingRight:"24px",paddingLeft:"8px",zIndex:1,"&:hover $searchIcon":{color:t.primary.main}},clearButton:{right:"3px",top:"2px"},input:{"&$input":{padding:"8px 0 8px 3rem"}},opened:{"& $input":{paddingRight:["2.5rem","!important"]}}})},_=t.SearchInputComponent=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSearchButtonClick=function(e){e.preventDefault(),(0,n.props.onToggle)()},n.handleClearButtonClick=function(e){e.preventDefault(),n.input.focus(),(0,n.props.onSearchInputChange)("")},n.handleInputMount=function(e){e&&(n.input=e,n.props.value&&n.input.focus())},n.handleInputChange=function(e){(0,n.props.onSearchInputChange)(e.currentTarget.value)},n.input=null,n.state={menuMaxWidth:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,null,[{key:"getMainMenuMaxWidth",value:function(){return h.default.document.getElementById("main-menu-navigation").offsetWidth}},{key:"getDerivedStateFromProps",value:function(e,n){var r=e.isMobile?"100%":t.getMainMenuMaxWidth();return a({},n,{menuMaxWidth:r})}}]),r(t,[{key:"componentDidMount",value:function(){this.props.isExpanded&&this.input.focus()}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,a=n.isExpanded,r=n.value,l=this.state.menuMaxWidth!==t.menuMaxWidth,o=r!==e.value,i=a!==e.isExpanded;return l||o||i}},{key:"componentDidUpdate",value:function(){this.props.isExpanded&&this.input.focus()}},{key:"render",value:function(){var e,t=this.props,n=t.value,a=t.classes,r=t.isMobile,l=t.isExpanded,i=this.state.menuMaxWidth,u=r||l,s=!!n,h=u||s?i:0;return o.default.createElement("div",{className:a.root},o.default.createElement("form",{className:(0,p.default)(a.form,(e={},y(e,a.opened,u),y(e,a.hasValue,s),e))},o.default.createElement("input",{ref:this.handleInputMount,id:"algolia-search-input",className:a.input,role:"searchbox",type:"search",autoComplete:"off",title:(0,m.translate)("global.word.search"),placeholder:(0,m.translate)("global.word.search"),"aria-label":(0,m.translate)("global.word.search"),autoCapitalize:"off",autoCorrect:"off",spellCheck:"false",value:n,onChange:this.handleInputChange,style:{width:h}}),o.default.createElement("button",{className:(0,p.default)(a.button,a.searchButton),tabIndex:"-1",onClick:this.handleSearchButtonClick,type:"button"},o.default.createElement(f.default,{className:a.searchIcon})),o.default.createElement(c.default,{"aria-label":(0,m.translate)("global.word.reset"),className:(0,p.default)(a.button,a.clearButton),onClick:this.handleClearButtonClick},o.default.createElement(d.default,null))))}}]),t}();_.propTypes={classes:i.default.objectOf(i.default.string),isMobile:i.default.bool,isExpanded:i.default.bool,value:i.default.string,onToggle:i.default.func,onSearchInputChange:i.default.func},_.defaultProps={classes:{},value:"",isMobile:!1,isExpanded:!1,onToggle:function(){},onSearchInputChange:function(){}},t.default=(0,u.compose)((0,s.withStyles)(b),g.withResponsive)(_)},4132:function(e,t,n){"use strict";var a=n(423);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(2)),l=(0,a(n(424)).default)(r.default.createElement(r.default.Fragment,null,r.default.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),r.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"Search");t.default=l},690:function(e,t,n){var a=n(1142),r=n(1221),l=n(82),o=n(72),i=l(function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),r(e,a(t,1),[])});e.exports=i},786:function(e,t,n){var a=n(88),r=n(584);e.exports=function(e,t){return e&&a(e,t,r)}},957:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UniversalSearch=t.algoliaConfigType=t.shouldHaveSSR=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(2),o=_(l),i=_(n(3)),u=n(496),s=n(565),c=n(435),f=n(1776),d=n(437),p=n(18),h=_(n(7)),m=n(429),g=n(4100),v=n(1220),y=_(n(4103)),b=_(n(4131));function _(e){return e&&e.__esModule?e:{default:e}}var O=function(e){var t=e.search;return(0,v.queryStringToSearchState)(t.slice(1))},S=t.shouldHaveSSR=function(e){var t=e.search,n=(0,v.queryStringToSearchState)(t.slice(1)),a="1"===n.page||!n.page,r=n.query,l=!t,o=Boolean(n.refinementList)&&Object.keys(n.refinementList).some(function(e){return!!n.refinementList[e]}),i=Boolean(n.menu)&&Object.keys(n.menu).some(function(e){return!!n.menu[e]});return!(!a||r)&&(l||o||i)},C=t.algoliaConfigType={appId:i.default.string.isRequired,apiKey:i.default.string.isRequired,indexName:i.default.string.isRequired},E=t.UniversalSearch=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handleSearchStateChange=function(e){n.setNewSearchState(e)},n.handleSearchInputChange=function(e){var t=n.state.searchState,r=a({},t,{page:1});n.setNewSearchState((0,v.resetSearchStateFiltersWithNewQuery)(r,e))},n.handleGoBack=function(){var e=n.state.searchState;n.setNewSearchState((0,v.resetSearchStateFiltersWithNewQuery)(e,"")),n.setInputExpand(!1)},n.handleToggleSearchInput=function(e){var t=n.state.isInputExpanded,a=void 0===e?!t:e;n.setInputExpand(a)};var r=h.default.document.location.pathname.match(/\/courses$/);return n.state={searchState:O(e.location),isInputExpanded:e.forceSearchDisplay&&!r},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"componentDidMount",value:function(){(0,this.props.onSearchMount)(this)}},{key:"shouldComponentUpdate",value:function(e){return this.props.location===e.location}},{key:"setNewSearchState",value:function(e){var t=this;this.setState(function(t){return{searchState:a({},t.searchState,e)}},function(){clearTimeout(t.debouncedSetState);var e=t.props.onSearchStateChange,n=t.state.searchState;t.debouncedSetState=setTimeout(function(){if(t.shouldDisplayResults()){var e,n,a=t.props.history,r=t.state.searchState;a.push((t.props,e=r,n=(0,m.isPath)(h.default.document.location.pathname,g.ROUTE_SEARCH)?h.default.document.location.pathname:(0,m.getPathName)(g.ROUTE_SEARCH),e?n+"?"+(0,v.searchStateToQueryString)(e):""),r)}},700),e(n)})}},{key:"setInputExpand",value:function(e){this.setState(function(){return{isInputExpanded:e}});var t=this.props,n=t.onOpenSearchInput,a=t.onCloseSearch;e?n():a()}},{key:"shouldDisplayResults",value:function(){var e=this.props.forceSearchDisplay,t=this.state,n=t.isInputExpanded,a=t.searchState;return n||Boolean(a.query)||e}},{key:"render",value:function(){var e=this.props,t=e.algoliaConfig,n=e.forceSearchDisplay,a=e.location,r=this.state,i=r.isInputExpanded,u=r.searchState,h=u.query||"",m=h?(0,p.translate)("universal_search.titles.header_title",{query:h}):(0,p.translate)("universal_search.titles.header_title_no_query");return o.default.createElement(s.InstantSearch,{onSearchStateChange:this.handleSearchStateChange,searchState:u,createURL:v.searchStateToQueryString,appId:t.appId,apiKey:t.apiKey,indexName:t.indexName},o.default.createElement(b.default,{value:h,isExpanded:i||Boolean(u.query),onSearchInputChange:this.handleSearchInputChange,onToggle:this.handleToggleSearchInput}),!S(a)&&o.default.createElement(f.NoSSR,null),this.shouldDisplayResults()&&o.default.createElement(l.Fragment,null,o.default.createElement(c.Helmet,null,o.default.createElement("title",null,(0,d.getPageTitle)(m))),o.default.createElement("div",{style:{display:"none"}},o.default.createElement(s.SearchBox,null)),o.default.createElement(y.default,{algoliaConfig:t,onSearchStateChange:this.handleSearchStateChange,searchState:u,onGoBack:this.handleGoBack,isSearchPage:n})))}}]),t}();E.propTypes={algoliaConfig:i.default.shape(C).isRequired,history:i.default.shape({push:i.default.func}).isRequired,location:i.default.shape({search:i.default.string}).isRequired,forceSearchDisplay:i.default.bool,onCloseSearch:i.default.func,onOpenSearchInput:i.default.func,onSearchMount:i.default.func,onSearchStateChange:i.default.func},E.defaultProps={forceSearchDisplay:!1,onSearchStateChange:function(){},onOpenSearchInput:function(){},onCloseSearch:function(){},onSearchMount:function(){}},t.default=(0,u.withRouter)(E)}}]);
//# sourceMappingURL=universalSearch.8cd27e3157692c41dffe.js.map